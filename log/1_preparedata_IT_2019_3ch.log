---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  R:\B2\01 - Households\10 - Labour supply model\LS_extention\EUROLAB_NOV22\do\../log//1_preparedata_IT_2019_3ch.log
  log type:  text
 opened on:   1 Dec 2022, 11:10:15

. *******************************************************************
. ***************** INPUT DATA MERGED WITH OUTPUT DATA **************
. *******************************************************************
. di in r "1_preparedata started running: $S_TIME  $S_DATE"
1_preparedata started running: 11:10:15   1 Dec 2022

. if $INPUT_DATA == 1{
.         quiet insheet using "${path_EMoutput}/${country}_${pyear}_std.txt", tab names clear double
. 
.         sum idhh
.         tempfile udb
.         save `udb'
.         quiet insheet using "${path_EMinput}/original/${country}_${year}_${fil}.txt", clear
.         sum idhh
.         noisily cap unab allvars: _all
.         global allvars "`allvars'" 
.         merge 1:1 idper using `udb'
.         drop _merge
. }

. 
. *********************************************************************************
. ***************** SILC DATA MERGED WITH INPUT DATA AND OUTPUT DATA **************
. *********************************************************************************
. if $INPUT_DATA == 0{
. 
.         local name = "2021-11" 
.                                 
.         use "${path_SILC_data}\\${country}\\${year}\\${country}-SILC-${year}-version_`name'.dta",clear
. 
.                 if "${country}" == "at" {
. 
.                                 gen double idperson_o = idperson
.                                 local var_merge  "idperson_o"
. 
.                         }
.                         else if "${country}" == "cz" {
.                             
.                                 format idperson %12.0f
.                                 rename idperson idorigperson
.                                 local var_merge "idorigperson"
.                                 
.                         }
.                         else if "${country}" == "sk" {
.                             
.                                 gen double r_rb030 = idperson
.                                 drop rb030
.                                 noi merge 1:1 r_rb030 using "${path_EMinput}/C19_R_HIDMAP_JRC_SK"
.                                 replace idperson = rb030
.                                 format idperson %12.0f
.                                 rename r_rb030 idorigperson 
.                                 local var_merge "idperson"
.                                 
.                         }
.                         else if "${country}" == "it" {
.                                 
.                                 di in r "here i am"
.                             local name = "2020-11"
.                 use "${path_SILC_data}\\${country}\\${year}\\${country}-SILC-${year}-version_`name'.dta",clear
. 
.                                 local var_merge "idperson"
.                                 
.                         }
.                         else {
. 
.                                 rename idperson idorigperson
.                                 local var_merge "idorigperson"
.                                 
.                         }
.                         
.                         
.                         
.         local var_silc "rb031 rb230 pl060 pl100 pl073 py200g pl075 pl074 pl076 pl080 pl040 pl020 pl085 pl087 pl086 pl090 pl089 pl120 pb210 pb220* pl031 rb210"
.                         local var_adhoc "pt060* pt070* pt090* pt100*"
.                         capture keep idhh idperson `var_merge' `var_silc' `var_adhoc'
.         tempfile udb
.         *sort idhh idperson
.         save `udb'
file C:\Users\serruha\AppData\Local\Temp\ST_1710_000001.tmp saved as .dta format
.         
.         quiet insheet using "${path_EMinput}/original/${country}_${year}_${fil}.txt", clear
--Break--
r(1);
--Break--
r(1);

end of do-file
--Break--
r(1);

end of do-file

--Break--
r(1);

. exit, clear
